{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack:///./src/index.ts","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["const apiKey = process.env.API_KEY as string;\n\ntype WeatherData = {\n  cod: number;\n  name: string;\n  main: {\n    temp: string;\n    humidity: number;\n  };\n  weather: [\n    {\n      description: string;\n      icon: string;\n      name: string;\n    },\n  ];\n  sys: {\n    country: string;\n  };\n  wind: {\n    speed: number;\n  };\n};\n\nconst apiUnsplash = 'https://source.unsplash.com/1600x900/?';\n\nconst apiCountryURL = 'https://flagsapi.com/';\n\nconst cityInput = document.querySelector('.input-city') as HTMLInputElement;\nconst btn = document.querySelector('.btnSearch') as HTMLButtonElement;\n\nconst cityElement = document.querySelector('#city') as HTMLSpanElement;\nconst tempElement = document.querySelector(\n  '#temperature span',\n) as HTMLParagraphElement;\nconst descElement = document.querySelector(\n  '#description',\n) as HTMLParagraphElement;\nconst weatherIconElement = document.querySelector(\n  '#weather-icon',\n) as HTMLParagraphElement;\nconst countryElement = document.querySelector('#country') as HTMLSpanElement;\nconst umidityElement = document.querySelector(\n  '#umidity span',\n) as HTMLSpanElement;\nconst windElement = document.querySelector('#wind span') as HTMLSpanElement;\n\nconst weatherContainer = document.querySelector(\n  '#weather-data',\n) as HTMLDivElement;\n\nconst errorMessageContainer = document.querySelector(\n  '#error-message',\n) as HTMLDivElement;\n\nconst suggestionContainer = document.querySelector(\n  '#suggestions',\n) as HTMLDivElement;\n\nconst suggestionButtons = document.querySelectorAll(\n  '#suggestions button',\n) as NodeListOf<Element>;\n\n// Limpa input\nconst clearInput = (): void => {\n  cityInput.value = ' ';\n};\n\n// Tratamento de erro\nconst showErrorMessage = (): void => {\n  errorMessageContainer.classList.remove('hide');\n};\n\nconst getDataWeather = async (city: string): Promise<WeatherData> => {\n  const apiWeather = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${apiKey}&lang=pt_br`;\n\n  try {\n    const res: Response = await fetch(apiWeather);\n    if (!res.ok) {\n      showErrorMessage();\n      throw new Error(`Erro na requisição: ${res.statusText}`);\n    }\n    const data: WeatherData = await res.json();\n\n    clearInput();\n    return data;\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n};\n\nconst hideInformation = (): void => {\n  errorMessageContainer.classList.add('hide');\n  weatherContainer.classList.add('hide');\n\n  suggestionContainer.classList.add('hide');\n};\n\nconst showData = async (city: string) => {\n  hideInformation();\n  try {\n    const data = await getDataWeather(city);\n    if (data.cod === 404) {\n      showErrorMessage();\n      return;\n    }\n\n    cityElement.innerText = data.name;\n    tempElement.innerHTML = data.main.temp;\n    descElement.innerHTML = data.weather[0].description;\n    weatherIconElement.setAttribute(\n      'src',\n      `http://openweathermap.org/img/wn/${data.weather[0].icon}.png`,\n    );\n    countryElement.setAttribute(\n      'src',\n      apiCountryURL + data.sys.country + '/flat/64.png',\n    );\n    umidityElement.innerHTML = `${data.main.humidity}%`;\n    windElement.innerHTML = `${data.wind.speed}km/h`;\n\n    // Change bg image\n    document.body.style.backgroundImage = `url(\"${apiUnsplash + city}\")`;\n\n    weatherContainer.classList.remove('hide');\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nbtn.addEventListener('click', () => {\n  const city = cityInput.value as string;\n  getDataWeather(city);\n});\n\ncityInput.addEventListener('keyup', (e: KeyboardEvent) => {\n  if (e.code === 'Enter') {\n    const city = (e.target as HTMLInputElement).value;\n\n    showData(city);\n  }\n});\n// Sugestões\nsuggestionButtons.forEach((btn) => {\n  btn.addEventListener('click', () => {\n    const city = btn.getAttribute('id') as string;\n\n    showData(city);\n  });\n});\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = {};\n__webpack_modules__[\"./src/index.ts\"]();\n",""],"names":[],"sourceRoot":""}